var svgData = {
    "moment": {
        "strokepath": [
            {
                "path": "M     36.581,38 963.581,38 963.581,590 35.581,590 35.581,39   L    36.581,38 963.581,38 963.581,590 35.581,590 35.581,39   ",
                "duration": 1200
            },
            {
                "path": "    M36.361,141.92c0,0,6.959-46.44,46.759-46.44c40.469,0,59.462,10.196,89.462,10.196c31,0,47-59.322,0-59.322    c-58,0-15.234,216.733-15.234,216.733s11.384,44.435-29.24,44.435S92.31,265.426,92.31,265.426",
                "duration": 600
            },
            {
                "path": "    M222.368,144.649c3.28-1.814-33.906,12.893-33.906,59.966c0,14.143,2.96,79.4,33.906,65.757    c43.356-19.114,26.022-98.832,14.765-130.399s12.324,120.08,53.114,103.456c41.399-16.872,31.501-200.498,2.272-200.498    c-47.936,0,41.085,182.763,41.085,182.763",
                "duration": 600
            },
            {
                "path": "    M354.095,96.712c0,0,15.726,54.836-37.54,79.446c0,0,37.539-31.849,64.86,6.392c7.362,10.304,13.633,14.679,26.237,9.123    c11.734-5.173,52.435-71.37,49.812-103.493c-2.036-24.937-26.46-23.898-42.57,6.762c-10.994,20.925,0.266,102.909,49.966,80.998    c37.617-16.584,40.333-61.05,40.333-61.05",
                "duration": 600
            },
            {
                "path": "M 36.581 356.639 L 803.838 39.033",
                "duration": 600
            },
            {
                "path": "    M103.305,339.737c3.398-1.58-34.724,10.493-38.013,57.45c-0.988,14.109-2.595,79.413,29.229,67.965    c44.586-16.038,32.864-96.772,23.84-129.049s5.798,124.67,45.756,106.135",
                "duration": 600
            },
            {
                "path": "M 36.581 501.625 L 202.979 432.744",
                "duration": 600
            },
            {
                "path": "M 165.088 307.523 L 267.964 588.879",
                "duration": 600
            },
            {
                "path": "    M192.467,382.281c0,0-11.522-83.535,13.976-94.889c34.037-15.156,117.642,301.488,117.642,301.488s-97.27-310.988-56.122-328.021    c43.465-17.993,142.91,328.021,142.91,328.021s-126.301-334.896-67.537-359.221c35.144-14.548,97.05,238.204,119.881,320.695    c3.588,12.962,12.997,38.526,37.55,38.526",
                "duration": 600
            },
            {
                "path": "    M963.289,165.869c0,0,4.793,118.131-25.601,127.249C880.132,310.385,814.735,38.354,814.735,38.354s78.637,276.783,50.273,287.159    c-8.291,3.033-14.194-6.553-16.828-12.271c-18-39.08-50.056-170.618-86.085-146.72c-36.029,23.898,20.585,195.018,20.585,195.018    c-62.589-223.79-71.396-176.67-65.927-140.013c6.308,42.281,28.189,133.297-12.301,156.569    c-35.818,20.587-73.595-57.261-70.193-117.166c3.085-54.323,42.227-39.764,46.002-0.511    c5.627,58.522-16.382,107.784-19.163,115.794c-2.781,8.01-5.19,14.33-16.004,17.573c-8.856,2.656-16.79-11.217-23.838-28.171    c-12.849-30.909-42.864-107.323-60.567-100.826c-17.612,6.464,35.067,148.481,35.067,148.481s-54.1-135.695-67.49-128.575    c-16.183,8.604,32.127,142.738,32.127,142.738C501.174,254.7,489.61,304.825,491.206,316.466    c2.172,15.85,23.949,55.348-1.178,65.127c-31.1,12.104-66.583-44.32-26.282-51.315c44.471-7.718,81.618,116.574,42.078,133.234    c-26.774,11.281-41.206-10.462-46.703-21.851c-6.88-14.254-20.943-38.559-22.005-75.588",
                "duration": 1800
            },
            {
                "path": "M 803.838 129.591 L 899.321 86.19",
                "duration": 600
            }
        ],
        "dimensions": {
            "width": 1000,
            "height": 625
        }
    }
}; 

$(document).ready(function() {
	var controller = new ScrollMagic.Controller();

	$(".mountains").height(window.innerHeight);
	$("#moment").height(window.innerHeight);		

	var scene = new ScrollMagic.Scene({triggerElement: "#trigger2", offset: 500, duration: 1200})
				.on("enter", function () {
					$("#screen").css("position", "fixed");
					$(".mountains").css("position", "fixed");
					$("#screen").addClass("screen-shrink");
					$(".mountains").addClass("mountains-show");
					drawMoment();
				})
				.on("leave", function () {
					// reset style
					$('#moment').lazylinepainter('pause');
					$("#screen").removeClass("screen-shrink");
					$(".mountains").removeClass("mountains-show");
					$('#moment').lazylinepainter('erase');
				})
				.addTo(controller);


    var $moment = $('#moment');

    $moment.lazylinepainter({
        'svgData': svgData,
        'strokeWidth': 15,
        'strokeColor': '#ffffff',
        'delay': 800,
        'drawSequential': true,
        'ease': 'easeInOutQuad'
    });

    function drawMoment(){
    	$moment.lazylinepainter('erase');
        $moment.lazylinepainter('paint');
        $("#moment svg").width($(window).width() - 10);
        $("#moment svg").height(window.innerHeight - 15);
    }
    
});